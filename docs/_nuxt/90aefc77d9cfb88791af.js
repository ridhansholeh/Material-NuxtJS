(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{340:function(t,n,e){var content=e(342);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(22).default)("c2163b1a",content,!0,{sourceMap:!1})},341:function(t,n,e){"use strict";var o=e(340);e.n(o).a},342:function(t,n,e){(t.exports=e(21)(!1)).push([t.i,".vue-map-container[data-v-43252f48]{height:500px;width:100%}",""])},345:function(t,n,e){"use strict";e.r(n);var o=e(164),r=e.n(o),d={name:"maps",data:function(){return{center:{lat:-2.2145852388265177,lng:117.104081069627},mapTypeId:"roadmap",markers:[],infoContent:"",infoWindowPos:{lat:0,lng:0},infoWinOpen:!1,currentMidx:null,infoOptions:{pixelOffset:{width:0,height:-35}}}},mounted:function(){var t=this;r()("http://server.getsensync.com/sensyncapps/main",{crossDomain:!0}).then(function(n){var data=n.data;t.markers=data.airquality.map(function(t){return{id:t.id,lat:parseFloat(t.lat),lng:parseFloat(t.long),pm10:t.pm10,so2:t.so2,o3:t.o3,co:t.co,no2:t.no2,ispu:t.ispu,timestamp:t.timestamp,status_quality:t.status_quality,status_site:t.status_site}})})},methods:{toggleInfoWindow:function(marker,t){var n=this;this.infoWindowPos={lat:marker.lat,lng:marker.lng},r.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng="+marker.lat+","+marker.lng+"&key=AIzaSyCBkW3l4xJIvrDcLskksqmaJ8g1oZZBKLQ").then(function(t){n.formatedAddresses=t.data.results[0].formatted_address,console.log(n.formatedAddresses),n.infoContent=n.getInfoWindowContent(marker,n.formatedAddresses)}),this.currentMidx==t?this.infoWinOpen=!this.infoWinOpen:(this.infoWinOpen=!0,this.currentMidx=t)},getInfoWindowContent:function(marker,address){return'<div class="card" style="margin-bottom: 0px;">\t<div class="card-block">\t\t<div class="card-body">\t\t\t<strong>Neosense</strong>\t\t\t<p>Pengguna : SITE Admin</p>\t\t\t<p>Data terakhir diterima : '+marker.timestamp+"</p>\t\t\t<p>"+address+"</p>\t\t\t<p>"+marker.status_quality+"</p>\t\t\t<p>"+marker.status_site+"</p>\t\t</div>\t</div></div>"},getTown:function(t,n){var e=this;r.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng="+t+","+n+"&key=AIzaSyCBkW3l4xJIvrDcLskksqmaJ8g1oZZBKLQ").then(function(t){e.formatedAddresses=t.data.results[0].formatted_address,console.log(e.formatedAddresses)})}}},c=(e(341),e(6)),component=Object(c.a)(d,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"content__inner"},[t._m(0),t._v(" "),e("div",{staticClass:"card"},[t._m(1),t._v(" "),e("div",{staticClass:"card-block"},[e("div",{staticClass:"card-body"},[e("gmap-map",{attrs:{center:t.center,"map-type-id":t.mapTypeId,zoom:5}},[t._l(t.markers,function(n,o){return e("gmap-marker",{key:o,attrs:{position:n},on:{click:function(e){return t.toggleInfoWindow(n,o)}}})}),t._v(" "),e("gmap-info-window",{attrs:{options:t.infoOptions,position:t.infoWindowPos,opened:t.infoWinOpen},on:{closeclick:function(n){t.infoWinOpen=!1}}},[e("div",{domProps:{innerHTML:t._s(t.infoContent)}})])],2)],1)])])])},[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("header",{staticClass:"content__title"},[e("h1",[t._v("Maps")]),t._v(" "),e("div",{staticClass:"actions"},[e("a",{staticClass:"actions__item zmdi zmdi-trending-up",attrs:{href:""}}),t._v(" "),e("a",{staticClass:"actions__item zmdi zmdi-check-all",attrs:{href:""}}),t._v(" "),e("div",{staticClass:"dropdown actions__item"},[e("i",{staticClass:"zmdi zmdi-more-vert",attrs:{"data-toggle":"dropdown"}}),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-right"},[e("a",{staticClass:"dropdown-item",attrs:{href:""}},[t._v("Refresh")]),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:""}},[t._v("Manage Widgets")]),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:""}},[t._v("Settings")])])])])])},function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"card-header"},[n("h2",{staticClass:"card-title"},[this._v("Google Maps")]),this._v(" "),n("small",{staticClass:"card-subtitle"},[this._v("API Google Maps")])])}],!1,null,"43252f48",null);n.default=component.exports}}]);